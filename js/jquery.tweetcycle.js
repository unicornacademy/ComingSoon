/**
 jQuery Tweetcycle 0.1
 http://zourbuth.com/plugins/tweetcycle
 Description: Display the the latest tweet in fade in/out mode
 License: GPL
*/
(function(e){e.fn.tweetcycle=function(t){var n={screen_name:"twitter",count:3,ajaxurl:"social.php"},r;t=e.extend(n,t);r=this;return this.each(function(){function n(e){var t=e.split(" ");e=t[1]+" "+t[2]+", "+t[5]+" "+t[3];var n=Date.parse(e);var r=arguments.length>1?arguments[1]:new Date;var i=parseInt((r.getTime()-n)/1e3);i=i+r.getTimezoneOffset()*60;var s="";if(i<60)s="a minute ago";else if(i<120)s="couple of minutes ago";else if(i<45*60)s=parseInt(i/60).toString()+" minutes ago";else if(i<90*60)s="an hour ago";else if(i<24*60*60)s=""+parseInt(i/3600).toString()+" hours ago";else if(i<48*60*60)s="1 day ago";else s=e;return s}r.append('<span class="loading-tweets">Loading tweets...</span>');e.post(t.ajaxurl,t,function(t){e(".loading-tweets",r).remove();e.each(t,function(t,i){var s=i.text.linked().attributed().hashed();e(r).append('<p><span class="tweet-image">'+s+' <span class="tweet-time">'+n(i.created_at)+"</span></span></p>")});e("p:first",r).show()},"json");String.prototype.hashed=function(){return this.replace(/#([A-Za-z0-9\/\.]*)/g,function(e){return'<a target="_blank" href="http://twitter.com/search?q='+e.replace("#","")+'">'+e+"</a>"})};String.prototype.linked=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(e){return e.link(e)})};String.prototype.attributed=function(){return this.replace(/@[\w]+/g,function(e){return'<a target="_blank" href="http://www.twitter.com/'+e.replace("@","")+'">'+e+"</a>"})};setInterval(function(){e("p:first-child",r).fadeOut("slow").next("p").fadeIn("slow").end().appendTo(r)},4500)})}})(jQuery)